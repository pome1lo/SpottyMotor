@using BlazorServerWebUI.Models.ViewModels;
@inject HttpClient httpClient
@inject NavigationManager navManager

<div class="col" data-aos="zoom-in-up" @onclick="GoToTheCurrentCar">
    <div class="card shadow-sm">

        <div class="scale">
            <img src="@Car.Image" class="scale border-rad-16">
        </div>

        <h3>@Car.CarName</h3>

        <div class="d-flex" style="flex-wrap: wrap">
            <div class="mini-red-block">
                @Car.Characteristics.YearReleased
            </div>
            <div class="mini-red-block">
                @Car.Characteristics.Mileage
            </div>
            <div class="mini-red-block">
                @Car.Characteristics.CarBody.CarBodyName
            </div>
            <div class="mini-red-block">
                @Car.Characteristics.Transmission.TransmissionName
            </div>
            <div class="mini-red-block">
                @Car.Characteristics.InteriorColor
            </div>
        </div>

        <p><b>$ @Car.Price</b></p>
    </div>
</div>

@code {
    [Parameter]
    public CarViewModel Car { get; set; } = null!;

    private async Task GoToTheCurrentCar()
    {
        await httpClient.GetAsync($"catalog/car/{Car.Id}");
    }
}
